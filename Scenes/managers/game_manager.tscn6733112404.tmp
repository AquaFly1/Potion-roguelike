[gd_scene load_steps=25 format=3 uid="uid://dgdt3b0jt8xy4"]

[ext_resource type="Script" uid="uid://c6oms0haklfoq" path="res://Scripts/managers/game_manager.gd" id="1_mmt5l"]
[ext_resource type="Script" uid="uid://b34khk8m7t8aq" path="res://Scripts/resources/Ingredient.gd" id="2_fgdfb"]
[ext_resource type="Resource" uid="uid://2emq08loikm2" path="res://Resources/Ingredients/etincelle_ing.tres" id="3_yqty0"]
[ext_resource type="Resource" uid="uid://dgk78wy7djprj" path="res://Resources/Ingredients/bois_ing.tres" id="4_71d4j"]
[ext_resource type="Resource" uid="uid://cklr6xig7l0v" path="res://Resources/Ingredients/ice_ing.tres" id="5_i4mau"]
[ext_resource type="Resource" uid="uid://b6pgjmw77cn0j" path="res://Resources/Ingredients/heart_ing.tres" id="6_6gmvr"]
[ext_resource type="Script" uid="uid://dr6idhc60c460" path="res://Scripts/resources/Combo.gd" id="6_i4mau"]
[ext_resource type="Resource" uid="uid://bfnfpccw8rf5l" path="res://Resources/Combos/FireBomb.tres" id="7_b5cn8"]
[ext_resource type="Resource" uid="uid://ccbgrr0ka2q11" path="res://Resources/Ingredients/poison.tres" id="7_jb27j"]
[ext_resource type="Resource" uid="uid://cvnw2m4qh74b7" path="res://Resources/Combos/heal.tres" id="7_sm5re"]
[ext_resource type="Resource" uid="uid://crhtsiwjsvcta" path="res://Resources/Combos/poison.tres" id="8_hjqsb"]
[ext_resource type="Resource" uid="uid://clyxeiknep0fk" path="res://Resources/Combos/ice_bomb.tres" id="8_jencv"]
[ext_resource type="Resource" uid="uid://jposvfisc5e" path="res://Resources/Combos/spark.tres" id="9_y8n5u"]
[ext_resource type="Resource" uid="uid://dlyoadwqshjjk" path="res://Resources/Combos/burning_heart.tres" id="10_5tjy5"]
[ext_resource type="Resource" uid="uid://dlvjxfw27owt2" path="res://Resources/Combos/toxic_heart.tres" id="11_iu5vk"]
[ext_resource type="Script" uid="uid://drdvri37lj73w" path="res://Scripts/resources/Effects/Effect.gd" id="16_5nmu7"]
[ext_resource type="Resource" uid="uid://dt7x6f3u5k6m" path="res://Resources/Effects/Damage.tres" id="17_6gmvr"]
[ext_resource type="Resource" uid="uid://kqc8bglj7e23" path="res://Resources/Effects/Burn.tres" id="18_jb27j"]
[ext_resource type="Resource" uid="uid://qltim5rn6kbm" path="res://Resources/Effects/Shield.tres" id="19_5ul1t"]
[ext_resource type="Resource" uid="uid://bohvvi81lc8xh" path="res://Resources/Effects/Poison.tres" id="19_tnymu"]
[ext_resource type="Resource" uid="uid://r7bx2y1fm66f" path="res://Resources/Effects/Rejuvination.tres" id="20_33pfu"]
[ext_resource type="Script" uid="uid://cr3s27owc80vb" path="res://menu_controller.gd" id="23_33pfu"]
[ext_resource type="Script" uid="uid://b6nmw3pp1g24w" path="res://Scenes/managers/menu_pause_main.gd" id="23_ofi3n"]
[ext_resource type="Theme" uid="uid://b6ru1rg45cmjg" path="res://Graphics/temporary_art/button_theme.tres" id="24_ofi3n"]

[node name="GameManager" type="Node2D" node_paths=PackedStringArray("menu_parent")]
script = ExtResource("1_mmt5l")
deck = Array[ExtResource("2_fgdfb")]([ExtResource("4_71d4j"), ExtResource("4_71d4j"), ExtResource("3_yqty0"), ExtResource("3_yqty0"), ExtResource("5_i4mau"), ExtResource("6_6gmvr"), ExtResource("6_6gmvr"), ExtResource("7_jb27j"), ExtResource("7_jb27j")])
combos = Array[ExtResource("6_i4mau")]([ExtResource("7_sm5re"), ExtResource("8_hjqsb"), ExtResource("9_y8n5u"), ExtResource("10_5tjy5"), ExtResource("11_iu5vk"), ExtResource("7_b5cn8"), ExtResource("8_jencv")])
effects = Array[ExtResource("16_5nmu7")]([ExtResource("17_6gmvr"), ExtResource("18_jb27j"), ExtResource("19_tnymu"), ExtResource("20_33pfu"), ExtResource("19_5ul1t")])
menu_parent = NodePath("CanvasLayer/Menu")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 85

[node name="Menu" type="ColorRect" parent="CanvasLayer" node_paths=PackedStringArray("first_menu")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)
script = ExtResource("23_33pfu")
first_menu = NodePath("Main")

[node name="Main" type="VBoxContainer" parent="CanvasLayer/Menu" node_paths=PackedStringArray("settings_menu")]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -237.75
offset_top = -540.0
offset_right = 237.75
offset_bottom = 540.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 10
alignment = 1
script = ExtResource("23_ofi3n")
settings_menu = NodePath("../Settings")

[node name="Resume" type="Button" parent="CanvasLayer/Menu/Main"]
layout_mode = 2
theme = ExtResource("24_ofi3n")
text = "Resume"

[node name="HSeparator" type="HSeparator" parent="CanvasLayer/Menu/Main"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="Settings" type="Button" parent="CanvasLayer/Menu/Main"]
layout_mode = 2
theme = ExtResource("24_ofi3n")
text = "Settings"

[node name="HSeparator2" type="HSeparator" parent="CanvasLayer/Menu/Main"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="Save & Quit" type="Button" parent="CanvasLayer/Menu/Main"]
layout_mode = 2
theme = ExtResource("24_ofi3n")
text = "Save & Quit"

[node name="Settings" type="VBoxContainer" parent="CanvasLayer/Menu"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -544.0
offset_top = -473.0
offset_right = 544.0
offset_bottom = 473.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1
script = ExtResource("23_ofi3n")

[node name="Resume" type="Label" parent="CanvasLayer/Menu/Settings"]
layout_mode = 2
size_flags_vertical = 0
theme = ExtResource("24_ofi3n")
text = "Settings"
horizontal_alignment = 1

[node name="HSeparator" type="HSeparator" parent="CanvasLayer/Menu/Settings"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="ScrollContainer" type="ScrollContainer" parent="CanvasLayer/Menu/Settings"]
layout_mode = 2
size_flags_vertical = 3

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Menu/Settings/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 3
alignment = 1

[node name="Setting1" type="Button" parent="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer"]
layout_mode = 2
theme = ExtResource("24_ofi3n")
text = "Settings"

[node name="HSeparator" type="HSeparator" parent="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="Setting2" type="Button" parent="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer"]
layout_mode = 2
theme = ExtResource("24_ofi3n")
text = "Save & Quit"

[node name="HSeparator2" type="HSeparator" parent="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="Setting3" type="Button" parent="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer"]
layout_mode = 2
theme = ExtResource("24_ofi3n")
text = "Settings"

[node name="HSeparator3" type="HSeparator" parent="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="Setting4" type="Button" parent="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer"]
layout_mode = 2
theme = ExtResource("24_ofi3n")
text = "Save & Quit"

[node name="HSeparator4" type="HSeparator" parent="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="HSeparator2" type="HSeparator" parent="CanvasLayer/Menu/Settings"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="Bottomn" type="HBoxContainer" parent="CanvasLayer/Menu/Settings"]
layout_mode = 2

[node name="Cancel" type="Button" parent="CanvasLayer/Menu/Settings/Bottomn"]
layout_mode = 2
size_flags_horizontal = 3
text = "Cancel"

[node name="VSeparator" type="VSeparator" parent="CanvasLayer/Menu/Settings/Bottomn"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Apply" type="Button" parent="CanvasLayer/Menu/Settings/Bottomn"]
layout_mode = 2
size_flags_horizontal = 3
text = "Apply"

[connection signal="pressed" from="CanvasLayer/Menu/Main/Resume" to="CanvasLayer/Menu/Main" method="_on_resume_pressed"]
[connection signal="pressed" from="CanvasLayer/Menu/Main/Settings" to="CanvasLayer/Menu" method="set_menu" flags=18 binds= [NodePath("../../Settings")]]
[connection signal="pressed" from="CanvasLayer/Menu/Main/Save & Quit" to="CanvasLayer/Menu/Main" method="_on_save__quit_pressed"]
[connection signal="pressed" from="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer/Setting1" to="CanvasLayer/Menu/Settings" method="_on_settings_pressed"]
[connection signal="pressed" from="CanvasLayer/Menu/Settings/ScrollContainer/VBoxContainer/Setting2" to="CanvasLayer/Menu/Settings" method="_on_save__quit_pressed"]
